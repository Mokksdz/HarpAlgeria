# ğŸ¨ UX/UI & MIGRATION COMPTABILITÃ‰ V3

**Suite de:** ACCOUNTING_V3_API.md

---

# 7. UX/UI PAGES ADMIN

## 7.1 Structure Navigation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ComptabilitÃ©                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€â”€ ğŸ  Dashboard                                       â”‚
â”‚ â”œâ”€â”€ ğŸ“¦ Achats                                          â”‚
â”‚ â”‚   â”œâ”€â”€ Liste des achats                               â”‚
â”‚ â”‚   â”œâ”€â”€ Nouvel achat                                   â”‚
â”‚ â”‚   â””â”€â”€ RÃ©ception                                      â”‚
â”‚ â”œâ”€â”€ ğŸ‘¥ Fournisseurs                                    â”‚
â”‚ â”‚   â”œâ”€â”€ Liste                                          â”‚
â”‚ â”‚   â””â”€â”€ Fiche fournisseur                              â”‚
â”‚ â”œâ”€â”€ ğŸ’° Avances                                         â”‚
â”‚ â”‚   â”œâ”€â”€ Liste des avances                              â”‚
â”‚ â”‚   â””â”€â”€ Appliquer une avance                           â”‚
â”‚ â”œâ”€â”€ ğŸ“‹ Stock                                           â”‚
â”‚ â”‚   â”œâ”€â”€ Inventaire                                     â”‚
â”‚ â”‚   â”œâ”€â”€ Transactions                                   â”‚
â”‚ â”‚   â””â”€â”€ RÃ©conciliation                                 â”‚
â”‚ â”œâ”€â”€ ğŸ‘— ModÃ¨les                                         â”‚
â”‚ â”‚   â”œâ”€â”€ Liste des modÃ¨les                              â”‚
â”‚ â”‚   â”œâ”€â”€ Nomenclature (BOM)                             â”‚
â”‚ â”‚   â””â”€â”€ CoÃ»ts & Prix                                   â”‚
â”‚ â”œâ”€â”€ ğŸ­ Production                                      â”‚
â”‚ â”‚   â”œâ”€â”€ Lots en cours                                  â”‚
â”‚ â”‚   â”œâ”€â”€ Nouveau lot                                    â”‚
â”‚ â”‚   â””â”€â”€ Consommation                                   â”‚
â”‚ â”œâ”€â”€ ğŸ’¸ Charges                                         â”‚
â”‚ â”‚   â”œâ”€â”€ Liste des charges                              â”‚
â”‚ â”‚   â””â”€â”€ Allocation                                     â”‚
â”‚ â””â”€â”€ ğŸ“ˆ Rapports                                        â”‚
â”‚     â”œâ”€â”€ RentabilitÃ©                                    â”‚
â”‚     â”œâ”€â”€ Ã‰tat stock                                     â”‚
â”‚     â””â”€â”€ Export                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.2 Dashboard Principal

### Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMPTABILITÃ‰ HARP                           [PÃ©riode â–¼] [ğŸ”„]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ STOCK    â”‚  â”‚ ACHATS   â”‚  â”‚ PRODUCTIONâ”‚  â”‚ MARGE    â”‚        â”‚
â”‚  â”‚ 2.5M DZD â”‚  â”‚ 12 en    â”‚  â”‚ 3 lots   â”‚  â”‚ 38%      â”‚        â”‚
â”‚  â”‚ 145 refs â”‚  â”‚ attente  â”‚  â”‚ en cours â”‚  â”‚ moyenne  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ALERTES                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”´ Stock bas: TIS-001 Coton Blanc (5m restants)            â”‚ â”‚
â”‚ â”‚ ğŸŸ  Marge faible: MDL-042 Robe Ã‰tÃ© (<20%)                   â”‚ â”‚
â”‚ â”‚ ğŸŸ¡ Achat en attente: ACH-2024-0038 depuis 7 jours          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACTIONS RAPIDES          â”‚ ACTIVITÃ‰ RÃ‰CENTE                     â”‚
â”‚                          â”‚                                       â”‚
â”‚ [+ Nouvel achat]         â”‚ â€¢ RÃ©ception ACH-2024-0041            â”‚
â”‚ [+ Nouvelle avance]      â”‚ â€¢ Lot LOT-2024-0023 dÃ©marrÃ©          â”‚
â”‚ [+ Nouveau lot]          â”‚ â€¢ Charge CHG-2024-0015 crÃ©Ã©e         â”‚
â”‚ [ğŸ“Š Rapports]            â”‚ â€¢ ModÃ¨le MDL-045 mis Ã  jour          â”‚
â”‚                          â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### KPIs AffichÃ©s

| KPI | Source | Calcul |
|-----|--------|--------|
| Valeur Stock | InventoryItem | Î£ totalValue |
| Achats en attente | Purchase | WHERE status IN (DRAFT, ORDERED) |
| Lots en cours | ProductionBatch | WHERE status = IN_PROGRESS |
| Marge moyenne | CostSnapshot | AVG(marginPercent) |
| Stock bas | InventoryItem | WHERE available < threshold |
| Avances non utilisÃ©es | SupplierAdvance | WHERE amountRemaining > 0 |

## 7.3 Page Achats

### Liste

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ACHATS                                        [+ Nouvel achat]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filtres: [Tous â–¼] [Fournisseur â–¼] [Date â–¼]     ğŸ” Rechercher   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ACH-2024-0042    â”‚ Tissus El Biar  â”‚ 125,000 DZD â”‚ BROUILLON â”‚ â”‚
â”‚ â”‚ 02/12/2024       â”‚ 5 articles      â”‚             â”‚ [Actionsâ–¼]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ACH-2024-0041    â”‚ Mercerie Alger  â”‚ 45,000 DZD  â”‚ COMMANDÃ‰  â”‚ â”‚
â”‚ â”‚ 01/12/2024       â”‚ 12 articles     â”‚             â”‚ [Recevoir]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ACH-2024-0040    â”‚ Tissus El Biar  â”‚ 89,000 DZD  â”‚ PARTIEL   â”‚ â”‚
â”‚ â”‚ 28/11/2024       â”‚ 3 articles      â”‚ 2/3 reÃ§us   â”‚ [Recevoir]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚                         [1] [2] [3] ... [12]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Page RÃ©ception (avec aperÃ§u CUMP)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† RÃ‰CEPTION ACH-2024-0041                                       â”‚
â”‚   Fournisseur: Mercerie Alger                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ APERÃ‡U IMPACT CUMP                                          â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Article      â”‚ Cmd â”‚ Ã€ recv â”‚ Stock â”‚ CUMP act â”‚ CUMP aprÃ¨s â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ TIS-001      â”‚ 100 â”‚ [100 ] â”‚ 50    â”‚ 800 DZD â”‚ 750 DZD â–¼ â”‚ â”‚
â”‚ â”‚ ACC-005      â”‚ 200 â”‚ [200 ] â”‚ 150   â”‚ 50 DZD  â”‚ 45 DZD  â–¼ â”‚ â”‚
â”‚ â”‚ ACC-012      â”‚ 50  â”‚ [50  ] â”‚ 0     â”‚ --      â”‚ 120 DZD   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ CoÃ»t total rÃ©ception: 125,000 DZD                               â”‚
â”‚ Nouvelle valeur stock: +125,000 DZD                             â”‚
â”‚                                                                  â”‚
â”‚                              [Annuler]  [âœ“ Confirmer RÃ©ception] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.4 Page ModÃ¨le - CoÃ»ts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† COÃ›TS & MARGES - MDL-042 Robe Ã‰tÃ© Fleurie                    â”‚
â”‚   Collection: Ã‰tÃ© 2024 | UnitÃ©s estimÃ©es: 150                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ COÃ›T REVIENTâ”‚  â”‚ PRIX ACTUEL â”‚  â”‚ MARGE       â”‚              â”‚
â”‚  â”‚ 3,450 DZD  â”‚  â”‚ 5,900 DZD  â”‚  â”‚ 41.5%       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DÃ‰COMPOSITION DES COÃ›TS                                         â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“¦ MATIÃˆRES          1,850 DZD  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 53.6%      â”‚ â”‚
â”‚ â”‚   â€¢ Tissu principal   1,200 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Accessoires         450 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Packaging           200 DZD                              â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ ğŸ”§ PRODUCTION          800 DZD  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 23.2%      â”‚ â”‚
â”‚ â”‚   â€¢ Main d'Å“uvre        600 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Atelier             200 DZD                              â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ ğŸ“£ MARKETING           500 DZD  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 14.5%      â”‚ â”‚
â”‚ â”‚   â€¢ Ads                 300 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Shooting            150 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Influenceurs         50 DZD                              â”‚ â”‚
â”‚ â”‚                                                              â”‚ â”‚
â”‚ â”‚ ğŸ“¦ AUTRES              300 DZD  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  8.7%      â”‚ â”‚
â”‚ â”‚   â€¢ Transport           100 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Marge retours       150 DZD                              â”‚ â”‚
â”‚ â”‚   â€¢ Divers               50 DZD                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PRIX SUGGÃ‰RÃ‰S                                                   â”‚
â”‚                                                                  â”‚
â”‚  Marge 30%: 4,929 DZD    Marge 40%: 5,750 DZD    Marge 50%: 6,900 DZD â”‚
â”‚                             â–² RecommandÃ©                        â”‚
â”‚                                                                  â”‚
â”‚                    [Simuler]  [ğŸ“¸ CrÃ©er Snapshot]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.5 Page Production - Consommation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† CONSOMMATION LOT-2024-0025                                    â”‚
â”‚   ModÃ¨le: MDL-042 Robe Ã‰tÃ© | QuantitÃ©: 100 unitÃ©s              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ VÃ‰RIFICATION DISPONIBILITÃ‰                                      â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Article      â”‚ Requis â”‚ Dispo â”‚ Statut                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ TIS-001      â”‚ 250m   â”‚ 300m  â”‚ âœ… OK                       â”‚ â”‚
â”‚ â”‚ ACC-005      â”‚ 200pcs â”‚ 150pcsâ”‚ âŒ Manque 50               â”‚ â”‚
â”‚ â”‚ ACC-012      â”‚ 100pcs â”‚ 120pcsâ”‚ âœ… OK                       â”‚ â”‚
â”‚ â”‚ PKG-001      â”‚ 100pcs â”‚ 200pcsâ”‚ âœ… OK                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ âš ï¸ Stock insuffisant pour ACC-005                               â”‚
â”‚    Options: [RÃ©duire quantitÃ©] [Commander stock]                â”‚
â”‚                                                                  â”‚
â”‚ COÃ›TS ESTIMÃ‰S                                                   â”‚
â”‚ â€¢ MatiÃ¨res: 185,000 DZD                                         â”‚
â”‚ â€¢ Main d'Å“uvre: 60,000 DZD                                      â”‚
â”‚ â€¢ Total lot: 245,000 DZD                                        â”‚
â”‚ â€¢ CoÃ»t/unitÃ©: 2,450 DZD                                         â”‚
â”‚                                                                  â”‚
â”‚                         [Annuler]  [âœ“ Lancer Production]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.6 Composants UI RÃ©utilisables

### StatusBadge
```tsx
<StatusBadge status="ORDERED" />
// Rendu: [ğŸ”µ CommandÃ©]
```

### CurrencyDisplay
```tsx
<CurrencyDisplay value={125000} />
// Rendu: 125,000 DZD
```

### PercentChange
```tsx
<PercentChange before={800} after={750} />
// Rendu: â–¼ -6.25% (en vert car baisse de coÃ»t)
```

### DataTable avec pagination
```tsx
<DataTable
  data={purchases}
  columns={columns}
  pagination={{ page, limit, total }}
  onPageChange={setPage}
  filters={<PurchaseFilters />}
/>
```

---

# 8. WORKFLOWS DÃ‰TAILLÃ‰S

## 8.1 Workflow Achat Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DRAFT   â”‚â”€â”€â”€â–ºâ”‚ ORDERED â”‚â”€â”€â”€â–ºâ”‚ PARTIAL â”‚â”€â”€â”€â–ºâ”‚RECEIVED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚              â”‚
     â–¼              â–¼              â–¼              â–¼
  CrÃ©ation      Validation     RÃ©ception     RÃ©ception
  lignes        envoi cmd      partielle     complÃ¨te
                                  â”‚              â”‚
                                  â–¼              â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ STOCK + CUMP        â”‚
                            â”‚ Transactions IN     â”‚
                            â”‚ Audit logs          â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8.2 Workflow Avance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING â”‚â”€â”€â”€â–ºâ”‚ PARTIAL â”‚â”€â”€â”€â–ºâ”‚ APPLIED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚
     â”‚              â”‚              â”‚
     â–¼              â–¼              â–¼
  CrÃ©ation     Application    Solde = 0
  avance       partielle
                   â”‚
                   â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ ACHAT     â”‚
             â”‚ amountDue â”‚
             â”‚ - montant â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8.3 Workflow Production

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PLANNED â”‚â”€â”€â”€â–ºâ”‚IN_PROGRESSâ”‚â”€â”€â”€â–ºâ”‚ COMPLETED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚                  â”‚
     â”‚              â”‚                  â”‚
     â–¼              â–¼                  â–¼
  CrÃ©ation     Consommation       Produits
  lot          matiÃ¨res           finis
                   â”‚                  â”‚
                   â–¼                  â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ STOCK OUT â”‚     â”‚ SNAPSHOT  â”‚
             â”‚ Tx PROD   â”‚     â”‚ CoÃ»ts     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8.4 Workflow Commande Client

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING â”‚â”€â”€â”€â–ºâ”‚ CONFIRMED â”‚â”€â”€â”€â–ºâ”‚ SHIPPED â”‚â”€â”€â”€â–ºâ”‚ DELIVERED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚                â”‚
     â”‚              â”‚                â”‚
     â–¼              â–¼                â–¼
  Commande     RÃ©servation      ExpÃ©dition
  crÃ©Ã©e        stock            stock -
                   â”‚                â”‚
                   â–¼                â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ reserved  â”‚   â”‚ STOCK OUT â”‚
             â”‚ + qty     â”‚   â”‚ Tx SALE   â”‚
             â”‚ available â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ - qty     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 9. PLAN DE MIGRATION

## 9.1 Phase 1: PrÃ©paration (1-2 jours)

### Actions
1. âœ… CrÃ©er namespace `/admin/compta/` (nouveau)
2. âœ… CrÃ©er namespace `/api/v3/compta/` (nouveau)
3. âœ… Copier services existants vers `lib/compta/`
4. âœ… Adapter imports et exports

### Commandes
```bash
# CrÃ©er structure V3
mkdir -p src/app/admin/compta
mkdir -p src/app/api/v3/compta
mkdir -p src/lib/compta/services

# Copier services existants
cp -r src/lib/accounting/* src/lib/compta/
```

## 9.2 Phase 2: Backend V3 (2-3 jours)

### Actions
1. CrÃ©er toutes les routes API V3
2. Adapter services pour nouvelles routes
3. Ajouter validations Zod manquantes
4. Tests API avec Postman/Insomnia

### Checklist Routes
- [ ] /api/v3/compta/fournisseurs
- [ ] /api/v3/compta/achats
- [ ] /api/v3/compta/avances
- [ ] /api/v3/compta/stock
- [ ] /api/v3/compta/modeles
- [ ] /api/v3/compta/production
- [ ] /api/v3/compta/charges
- [ ] /api/v3/compta/rapports

## 9.3 Phase 3: Frontend V3 (3-4 jours)

### Actions
1. CrÃ©er layout `/admin/compta/layout.tsx`
2. CrÃ©er dashboard principal
3. Migrer pages une par une
4. Tester chaque page

### Ordre de migration
1. Dashboard (KPIs)
2. Stock/Inventaire
3. Fournisseurs
4. Achats + RÃ©ception
5. Avances
6. ModÃ¨les + BOM + CoÃ»ts
7. Production
8. Charges
9. Rapports

## 9.4 Phase 4: Bascule (1 jour)

### Actions
1. Ajouter lien "ComptabilitÃ© V3" dans sidebar
2. Tester en parallÃ¨le V1/V2/V3
3. Marquer V1/V2 comme "Legacy"
4. Rediriger `/admin/accounting` â†’ `/admin/compta`

### Sidebar temporaire
```tsx
// Admin layout
{ name: "ComptabilitÃ© V3", href: "/admin/compta", icon: Calculator },
{ name: "ComptabilitÃ© (ancien)", href: "/admin/accounting", icon: Calculator, badge: "Legacy" },
```

## 9.5 Phase 5: Nettoyage (1-2 jours)

### Actions
1. Supprimer `/admin/accounting/` (V1)
2. Supprimer `/admin/accounting-v2/`
3. Supprimer routes API V1/V2 inutilisÃ©es
4. Supprimer `src/lib/inventory-service.ts`
5. Nettoyer imports orphelins

### Script nettoyage
```bash
# AprÃ¨s validation complÃ¨te V3
rm -rf src/app/admin/accounting
rm -rf src/app/admin/accounting-v2
rm src/lib/inventory-service.ts
```

---

# 10. CHECKLIST FINALE

## 10.1 Backend

- [ ] Tous services mÃ©tier implÃ©mentÃ©s
- [ ] Calcul CUMP fonctionnel
- [ ] RÃ©servation stock fonctionnelle
- [ ] Consommation production fonctionnelle
- [ ] Application avances fonctionnelle
- [ ] RÃ©conciliation fonctionnelle
- [ ] Audit logs complets
- [ ] Validations Zod partout
- [ ] Transactions Prisma atomiques

## 10.2 API

- [ ] Routes CRUD complÃ¨tes
- [ ] Routes actions (receive, consume, apply)
- [ ] Pagination sur listes
- [ ] Filtres fonctionnels
- [ ] Codes HTTP corrects
- [ ] Messages d'erreur clairs
- [ ] requireAdmin() sur toutes routes

## 10.3 Frontend

- [ ] Dashboard avec KPIs
- [ ] Toutes pages migrÃ©es
- [ ] Navigation cohÃ©rente
- [ ] Formulaires avec validation
- [ ] Messages de confirmation
- [ ] Ã‰tats de chargement
- [ ] Gestion erreurs

## 10.4 DonnÃ©es

- [ ] Pas de perte de donnÃ©es
- [ ] Historique prÃ©servÃ©
- [ ] Transactions cohÃ©rentes
- [ ] CUMP recalculÃ©s si nÃ©cessaire

## 10.5 Tests

- [ ] Tests unitaires services
- [ ] Tests API routes
- [ ] Tests E2E critiques
- [ ] Test manuel complet

---

# ğŸ“Œ CONCLUSION

Ce document dÃ©finit l'architecture complÃ¨te de la **ComptabilitÃ© HARP V3 UnifiÃ©e**.

**Points clÃ©s:**
- Un seul namespace `/admin/compta/` et `/api/v3/compta/`
- Services mÃ©tier complets avec CUMP
- API REST cohÃ©rente avec Zod
- UI moderne et intuitive
- Migration progressive sans perte

**Prochaines Ã©tapes:**
1. Valider cette architecture
2. Commencer Phase 1 (prÃ©paration)
3. ItÃ©rer par module

---

**Document gÃ©nÃ©rÃ© pour HARP - DÃ©cembre 2024**
